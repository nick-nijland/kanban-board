@if (loading()) {
  <div class="loading">
    <mat-spinner></mat-spinner>
  </div>
} @else {
  <app-header (onCreateTicket)="openModal()" [statuses]="getStatusTotals()"> </app-header>

  @if (error()) {
    <app-notification
      [text]="error() ?? ''"
      [closeText]="'generic.close'"
    ></app-notification>
  }

  <section>
    @for (status of statuses; track status) {
      <app-column
        [status]="status"
        [cards]="getCardsByStatus(status)"
        [connectedTo]="getStatusses(status)"
        (cardDropped)="dropCard($event, status)"
        (onDeleteTicket)="deleteTicket($event)"
        (onEditTicket)="openModal($event)"
      ></app-column>
    }
  </section>
}
